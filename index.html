<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Психологический тест</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Психологический тест</h1>

    <!-- Блок с вопросами -->
    <div id="quiz">
        <div class="question" id="question">Как вы начинаете утро?</div>
        <div class="answers">
            <button class="answer-button" data-answer="A">Ответ 1</button>
            <button class="answer-button" data-answer="B">Ответ 2</button>
            <button class="answer-button" data-answer="C">Ответ 3</button>
        </div>
    </div>

    <!-- Этот блок скрывается вначале -->
    <div id="result" class="hidden">
        <p>Чтобы узнать ответ, отправьте 10 друзьям!</p>
        <button onclick="shareOnWhatsApp()">Поделиться в WhatsApp</button>
        <button id="show-answer-btn" class="hidden" onclick="showResult()">Узнать результат</button>
    </div>

    <!-- Этот блок появляется после 20 секунд -->
    <div id="timer-message" class="hidden">
        Чтобы узнать ответ, отправьте 10 друзьям.
    </div>

    <script>
        let score = 0;
        let questionIndex = 0;

        const answers = [
            { question: "Как вы начинаете утро?", options: ["A", "B", "C"] },
            // Добавьте другие вопросы и ответы
        ];

        const resultText = {
            active: "Вы активный человек!",
            calm: "Вы спокойный человек.",
            stressed: "Вы немного стрессовый."
        };

        // Обновляем вопрос
        function updateQuestion() {
            const questionData = answers[questionIndex];
            document.getElementById("question").textContent = questionData.question;
            const answerButtons = document.querySelectorAll(".answer-button");
            answerButtons.forEach((button, index) => {
                button.textContent = `Ответ ${index + 1}`;
                button.onclick = () => handleAnswer(questionData.options[index]);
            });
        }

        // Обрабатываем ответ
        function handleAnswer(answer) {
            if (answer === "A") score += 2;
            if (answer === "B") score += 1;
            if (answer === "C") score += 0;

            questionIndex++;
            if (questionIndex < answers.length) {
                updateQuestion();
            } else {
                document.getElementById("quiz").classList.add("hidden");
                document.getElementById("result").classList.remove("hidden");
                setTimeout(() => {
                    document.getElementById("timer-message").classList.remove("hidden");
                }, 20000); // Появление через 20 секунд
            }
        }

        // Функция для отображения результата
        function showResult() {
            let result = "";
            if (score >= 12) result = resultText.active;
            else if (score >= 6) result = resultText.calm;
            else result = resultText.stressed;

            document.getElementById("show-answer-btn").classList.add("hidden");
            document.getElementById("result").innerHTML = result;
        }

        // Функция для отправки на WhatsApp
        function shareOnWhatsApp() {
            const message = "Пройди психологический тест и узнай, какой ты человек!";
            const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(url, "_blank");
        }

        // Инициализация
        updateQuestion();
    </script>
</body>
</html>
